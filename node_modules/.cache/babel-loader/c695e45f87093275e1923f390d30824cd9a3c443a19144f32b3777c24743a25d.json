{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport userService from \"../services/user-service\";\nimport { CanceledError } from \"../services/api-client\";\nconst useUsers = () => {\n  _s();\n  const [error, setError] = useState(\"\");\n  const [users, setUsers] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  useEffect(() => {\n    setIsLoading(true);\n    const {\n      request,\n      cancel\n    } = userService.getAll();\n    request.then(res => {\n      setUsers(res.data);\n      setIsLoading(false);\n    }).catch(err => {\n      if (err instanceof CanceledError) return;\n      setError(err.message);\n      setIsLoading(false);\n    });\n    return () => cancel();\n  }, []);\n  return {\n    users,\n    error,\n    isLoading,\n    setUsers,\n    setError,\n    setIsLoading\n  };\n};\n_s(useUsers, \"iB70K7NGkgN7lIiXk6byVFXRLQg=\");\nexport default useUsers;","map":{"version":3,"names":["useEffect","useState","userService","CanceledError","useUsers","_s","error","setError","users","setUsers","isLoading","setIsLoading","request","cancel","getAll","then","res","data","catch","err","message"],"sources":["/home/hs/react-practice/src/hooks/useUsers.ts"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport userService, { User } from \"../services/user-service\";\nimport { AxiosError, CanceledError } from \"../services/api-client\";\n\nconst useUsers = () => {\n\tconst [error, setError] = useState(\"\");\n\tconst [users, setUsers] = useState<User[]>([]);\n\tconst [isLoading, setIsLoading] = useState(false);\n\n\tuseEffect(() => {\n\t\tsetIsLoading(true);\n\n\t\tconst { request, cancel } = userService.getAll<User>();\n\t\trequest\n\t\t\t.then((res) => {\n\t\t\t\tsetUsers(res.data);\n\t\t\t\tsetIsLoading(false);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tif (err instanceof CanceledError) return;\n\t\t\t\tsetError((err as AxiosError).message);\n\t\t\t\tsetIsLoading(false);\n\t\t\t});\n\n\t\treturn () => cancel();\n\t}, []);\n\treturn { users, error, isLoading, setUsers, setError, setIsLoading };\n};\n\nexport default useUsers;\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,WAAW,MAAgB,0BAA0B;AAC5D,SAAqBC,aAAa,QAAQ,wBAAwB;AAElE,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACO,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAS,EAAE,CAAC;EAC9C,MAAM,CAACS,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAEjDD,SAAS,CAAC,MAAM;IACfW,YAAY,CAAC,IAAI,CAAC;IAElB,MAAM;MAAEC,OAAO;MAAEC;IAAO,CAAC,GAAGX,WAAW,CAACY,MAAM,CAAO,CAAC;IACtDF,OAAO,CACLG,IAAI,CAAEC,GAAG,IAAK;MACdP,QAAQ,CAACO,GAAG,CAACC,IAAI,CAAC;MAClBN,YAAY,CAAC,KAAK,CAAC;IACpB,CAAC,CAAC,CACDO,KAAK,CAAEC,GAAG,IAAK;MACf,IAAIA,GAAG,YAAYhB,aAAa,EAAE;MAClCI,QAAQ,CAAEY,GAAG,CAAgBC,OAAO,CAAC;MACrCT,YAAY,CAAC,KAAK,CAAC;IACpB,CAAC,CAAC;IAEH,OAAO,MAAME,MAAM,CAAC,CAAC;EACtB,CAAC,EAAE,EAAE,CAAC;EACN,OAAO;IAAEL,KAAK;IAAEF,KAAK;IAAEI,SAAS;IAAED,QAAQ;IAAEF,QAAQ;IAAEI;EAAa,CAAC;AACrE,CAAC;AAACN,EAAA,CAvBID,QAAQ;AAyBd,eAAeA,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}