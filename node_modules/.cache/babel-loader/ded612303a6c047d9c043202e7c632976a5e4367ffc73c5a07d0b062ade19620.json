{"ast":null,"code":"var _jsxFileName = \"/home/hs/Learnathon_2.0_React_API_Context/react_class_4/src/App.tsx\",\n  _s = $RefreshSig$();\nimport axios, { CanceledError } from \"axios\";\nimport \"./App.css\";\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [error, setError] = useState(\"\");\n  const [users, setUsers] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  useEffect(() => {\n    const controller = new AbortController();\n    setIsLoading(true);\n    const Response = async () => {\n      try {\n        const res = await axios.get(\"https://jsonplaceholder.typicode.com/users\", {\n          signal: controller.signal\n        });\n        setUsers(res.data);\n        setIsLoading(false);\n      } catch (err) {\n        if (err instanceof CanceledError) return;\n        setError(err.message);\n        setIsLoading(false);\n      }\n    };\n    Response();\n    return () => controller.abort();\n  }, []);\n  const handleUser = user => {\n    const originalUser = [...users];\n    setUsers(users.filter(u => u.id !== user.id));\n    axios.delete(\"https://jsonplaceholder.typicode.com/users/\" + user.id).catch(err => {\n      setError(err.message);\n      setUsers(originalUser);\n    });\n  };\n  const handleAdd = user => {};\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center ml-10 text-green-600\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-600 text\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAdd,\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 5\n      }, this), users.map(user => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          paddingBottom: \"5px\"\n        },\n        children: [user.name, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleUser(user),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 7\n        }, this)]\n      }, user.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 6\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"iB70K7NGkgN7lIiXk6byVFXRLQg=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["axios","CanceledError","useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","error","setError","users","setUsers","isLoading","setIsLoading","controller","AbortController","Response","res","get","signal","data","err","message","abort","handleUser","user","originalUser","filter","u","id","delete","catch","handleAdd","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","style","display","justifyContent","paddingBottom","name","_c","$RefreshReg$"],"sources":["/home/hs/Learnathon_2.0_React_API_Context/react_class_4/src/App.tsx"],"sourcesContent":["import axios, { AxiosError, CanceledError } from \"axios\";\nimport \"./App.css\";\nimport { useEffect, useState } from \"react\";\n\ninterface User {\n\tid: number;\n\tname: string;\n}\n\nfunction App() {\n\tconst [error, setError] = useState(\"\");\n\tconst [users, setUsers] = useState<User[]>([]);\n\tconst [isLoading, setIsLoading] = useState(false);\n\n\tuseEffect(() => {\n\t\tconst controller = new AbortController();\n\t\tsetIsLoading(true);\n\n\t\tconst Response = async () => {\n\t\t\ttry {\n\t\t\t\tconst res = await axios.get(\n\t\t\t\t\t\"https://jsonplaceholder.typicode.com/users\",\n\t\t\t\t\t{ signal: controller.signal }\n\t\t\t\t);\n\t\t\t\tsetUsers(res.data);\n\t\t\t\tsetIsLoading(false);\n\t\t\t} catch (err) {\n\t\t\t\tif (err instanceof CanceledError) return;\n\t\t\t\tsetError((err as AxiosError).message);\n\t\t\t\tsetIsLoading(false);\n\t\t\t}\n\t\t};\n\t\tResponse();\n\n\t\treturn () => controller.abort();\n\t}, []);\n\tconst handleUser = (user: User) => {\n\t\tconst originalUser = [...users];\n\t\tsetUsers(users.filter((u) => u.id !== user.id));\n\n\t\taxios\n\t\t\t.delete(\"https://jsonplaceholder.typicode.com/users/\" + user.id)\n\t\t\t.catch((err) => {\n\t\t\t\tsetError((err as AxiosError).message);\n\t\t\t\tsetUsers(originalUser);\n\t\t\t});\n\t};\n\tconst handleAdd = (user: User) => {};\n\treturn (\n\t\t<>\n\t\t\t{isLoading && (\n\t\t\t\t<p className=\"text-center ml-10 text-green-600\">Loading...</p>\n\t\t\t)}\n\t\t\t{error && <p className=\"text-red-600 text\">{error}</p>}\n\n\t\t\t<ul>\n\t\t\t\t<button onClick={handleAdd}>Add</button>\n\t\t\t\t{users.map((user) => (\n\t\t\t\t\t<li\n\t\t\t\t\t\tkey={user.id}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\t\t\tpaddingBottom: \"5px\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{user.name}\n\t\t\t\t\t\t<button onClick={() => handleUser(user)}>Delete</button>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</>\n\t);\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}